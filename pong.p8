pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
padx = 53
pady = 122
padw = 24
padh = 4

ballx = 64
bally = 64
ballsize = 3
ballxdir = 5
ballydir = 3

score = 0
lives = 3

function movepaddle()
 if btn(0) then
   padx -= 3
 elseif btn(1) then
 		padx += 3
 end
end

function _update()
  movepaddle()
  moveball()
  bounceball()
  bouncepaddle()
		loseball()
end

function moveball()
		ballx += ballxdir
		bally += ballydir
end

function bounceball()
  if ballx < ballsize then
    ballxdir = -ballxdir
    sfx(0)
  end
  
  if ballx > 128 - ballsize then
    ballxdir = -ballxdir
    sfx(0)
  end
  
  if bally < ballsize then
    ballydir = -ballydir
    sfx(0)
  end
end

function bouncepaddle()
 	if ballx >= padx and ballx <= padx+padw and bally > pady then
	  sfx(0)
	  ballydir = -ballydir
	  score+=10
	 end
end

function loseball()
		if bally > 128 then
				if lives > 0 then
				  sfx(3)
				  bally = 24
				  lives -= 1
			 end
				else if lives == 0 then
				  ballydir = 0
				  ballxdir = 0
				  bally = 64
				  sfx(5)
				end 
		end
end

function _draw()
		rectfill(0,0,128,128,3)
		print(score, 12,6,15)
		for i = 1, lives do
				spr(001,100,4)
		end
		
		print(lives, 110,6,15)
	 rectfill(padx,pady,padx+padw,pady+padh,15)
		circfill(ballx, bally, ballsize, 15)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000888008880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700888888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000888888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000888888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700088888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000008888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
0002000030350303502f3502c35034350343500315005150051500415003150021500115001150291501f3502b1502c1502d1502f150321503315034150283502835026350253502535025350253502535025350
